---
import BaseLayout from '../../layouts/baseLayout.astro';
import BlogPost from '../../components/blogPost.astro'

import { getCollection } from 'astro:content';

const allPosts = await getCollection("blogs");
const pageTitle = "My Astro Learning Blog";
---
<BaseLayout page_title={pageTitle}>

  <h1>the new blog page...! </h1>
  <p>This is where I will post about my journey learning Astro. again</p>

  <span>Component test below</span>
  <ul>
    {allPosts.map((post) => (<BlogPost url={`/blog/${post.id}/`} title={post.data.title} />))}
  </ul>

    <p>
      <a href="/tags/">tag list</a>
    </p>
</BaseLayout> 